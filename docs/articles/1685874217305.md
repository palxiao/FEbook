



## 什么是低代码

### 概念

低代码概念早已经火过，虽然存在着不同的声音，但是不可否认的是，许多公司依然是投入到了各类低代码应用的开发当中。

例如阿里钉钉的跨平台协作，后来衍生了宜搭这个平台，也开源了一套[通用低代码引擎 (11.5k Star)](https://lowcode-engine.cn/index)，还有字节飞书的审批流程、自动化表单等等，百度也是开源了一套低代码前端框架 [amis (14k Star)](https://aisuda.bce.baidu.com/amis/zh-CN/docs/index)。

从整体上讲，低代码能带的好处主要有以下几点：

1. 减少页面开发工作量，提升效率
2. 降低开发门槛、快速响应业务需求
3. 有利于沉淀组件，可以把低代码当做UI库来使用，灵活可扩展

低代码不适合做什么：

1. 大量定制UI，追求丰富个性化视觉效果的前端页面
2. 即为复杂或特殊的交互场景（如编辑器、绘图连线）

### 低代码与零代码

零代码：业务人员通过拖拽等方式，无需编写代码，即可快速搭建各种应用。这种无代码方式只适合单点场景的应用，扩展性很差，主要的设计考虑在易用性层面。

低代码：主要面向开发人员，通过自动代码生成和可视化编程，只需少量代码，即可快速搭建页面。低代码既要考虑一定的易用性，也要充分保证灵活性、可扩展性(代码增强)，这种混合开发能够基本满足具有复杂场景交互的应用。

总的来说，低代码即是把 90% 的工作交给程序去完成，而开发人员只需要负责“走完最后的一公里路”。

### 低代码的核心原理

以一种协议的方式定义展示页面与组件的抽象化数据，通常称之为 Schema，以 JSON 的数据格式来表示。

平台层：核心就是可视化编辑操作数据，转化(翻译)代码

业务层：引入低代码的物料（组件库），与转化的代码，然后进行渲染与增强

## 低代码实现

### 平台层（低代码引擎）

涉及到画布渲染，拖拽组件，选中态右侧属性编辑，鼠标拖拽识别、边缘探测等能力，基本功能如导入导出、撤销重做、复制删除、代码编辑等等，其次是渲染过程对 schema 的运行时适配以及性能优化，此外还有出码模块的自动生成解析器，可能涉及到语法分析和转化。

```
formDesign
├── components
│   ├── VFormDesign
│   │   ├── components
│   │   │   ├── CodeModal.vue
│   │   │   ├── ComponentProps.vue
│   │   │   ├── FormItemColumnProps.vue
│   │   │   ├── FormItemProps.vue
│   │   │   ├── FormNode.vue
│   │   │   ├── FormNodeOperate.vue
│   │   │   ├── FormOptions.vue
│   │   │   ├── FormProps.vue
│   │   │   ├── IPhone.vue
│   │   │   ├── ImportJsonModal.vue
│   │   │   ├── JsonModal.vue
│   │   │   ├── LayoutItem.vue
│   │   │   ├── PreviewCode.vue
│   │   │   ├── RuleProps.vue
│   │   │   └── hooks
│   │   │       └── createCode.ts
│   │   ├── config
│   │   │   ├── componentPropsConfig.ts
│   │   │   ├── formItemPropsConfig.ts
│   │   │   └── props
│   │   │       ├── button.ts
│   │   │       ├── image.ts
│   │   │       ├── index.ts
│   │   │       ├── input.ts
│   │   │       ├── numberBox.ts
│   │   │       ├── rate.ts
│   │   │       ├── select.ts
│   │   │       ├── slider.ts
│   │   │       ├── text.ts
│   │   │       └── textarea.ts
│   │   ├── index.vue
│   │   ├── modules
│   │   │   ├── CollapseItem.vue
│   │   │   ├── FormComponentPanel.vue
│   │   │   ├── PropsPanel.vue
│   │   │   └── Toolbar.vue
│   │   ├── styles
│   │   │   ├── drag.less
│   │   │   └── variable.less
│   │   └── test.ts
│   ├── VFormItem
│   │   ├── index.vue
│   │   └── vFormItem.vue
│   ├── VFormPreview
│   │   ├── index.vue
│   │   └── useForm.vue
│   └── index.ts
├── core
│   ├── formItemConfig.ts
│   ├── iconConfig.ts
│   └── props
│       └── baseComponents.ts
├── examples
│   └── baseForm.vue
├── hooks
│   ├── useFormDesignState.ts
│   ├── useFormInstanceMethods.ts
│   └── useVFormMethods.ts
├── index.vue
├── tests
│   └── import1.json
├── tree.md
├── typings
│   ├── base-type.ts
│   ├── form-type.ts
│   └── v-form-component.ts
└── utils
    ├── index.ts
    └── message.ts
```

### 业务层

```
uv-form-created
├── _codeMixin.ts
├── codeMixin.ts
├── comps
│   ├── BaseForm.vue
│   ├── CompItemBox.vue
│   ├── CreatForm.vue
│   ├── FormItems
│   │   ├── Button.vue
│   │   ├── DatetimePicker.vue
│   │   ├── Image.vue
│   │   ├── Input
│   │   │   └── index.ts
│   │   ├── Input.vue
│   │   ├── InputTextArea.vue
│   │   ├── NumberBox.vue
│   │   ├── RadioGroup.vue
│   │   ├── Rate.vue
│   │   ├── Select.vue
│   │   ├── Slider.vue
│   │   ├── Text.vue
│   │   └── index.ts
│   └── index.ts
├── hello.vue
├── hooks
│   └── tools.ts
├── server
│   ├── http.js
│   ├── index.js
│   ├── mock.js
│   └── tools.js
├── test copy.vue
├── test.vue
├── tree.md
└── utils
    ├── diffObject.ts
    ├── http.ts
    ├── schemasProxy.ts
    └── uiadmin2json
        ├── index.js
        ├── json
        │   ├── Button.json
        │   ├── Image.json
        │   ├── Input.json
        │   ├── NumberBox.json
        │   ├── Picker.json
        │   ├── Rate.json
        │   ├── Slider.json
        │   ├── Text.json
        │   └── Textarea.json
        └── uview
            ├── Button.json
            ├── Image.json
            ├── Input.json
            ├── NumberBox.json
            ├── Picker.json
            ├── Rate.json
            ├── Slider.json
            ├── Text.json
            └── Textarea.json
```

### 如何封装一个低代码组件



### 如何使用自定义组件



## 最后一公里路

### 代码增强（codeMixin）

把 Vue 组件整个抛出，通过一个 ts 文件代理来实现代码 code mixin。

